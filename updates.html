<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Project Updates · Sensors for Restoration</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <header>
    <h1>Project Updates</h1>
    <nav>
      <a href="index.html">Home</a>
      <a href="updates.html">Updates</a>
      <a href="forum.html">Forum</a>
      <a href="about.html">About</a>
      <a href="contact.html">Contact</a>
    </nav>
  </header>

  <main>
    <div class="card">
      <h2>Project Updates</h2>
      <p>Select a week to view details and assets.</p>
      <ul class="grid two">
        <li class="card"><a href="updates/week3/">Week 3 Team Updates</a></li>
        <li class="card"><a href="updates/week4/">Week 4 Team Updates</a></li>
        <li class="card"><a href="updates/week5/">Week 5 Team Updates</a></li>
        <li class="card"><a href="updates/week6/">Week 6 Team Updates</a></li>
      </ul>
    </div>



    <!-- Weekly updates moved into the updates/ folder. Use the links above to open each week. -->
  </main>

  <footer>© <span id="y"></span> Sensors for Restoration</footer>
  <script>
    document.getElementById('y').textContent = new Date().getFullYear();
  </script>
  <script>
    // Week 5 carousel script
    (function(){
      const carousel = document.getElementById('week5-carousel');
      if(!carousel) return;
      const track = carousel.querySelector('.carousel__track');
      const slides = Array.from(carousel.querySelectorAll('.carousel__slide'));
      const prev = carousel.querySelector('.carousel__nav.prev');
      const next = carousel.querySelector('.carousel__nav.next');
      const indicators = Array.from(carousel.querySelectorAll('.indicator'));
      let index = 0;

      function update(){
        const slideWidth = slides[0].getBoundingClientRect().width;
        track.style.transform = `translateX(-${Math.round(index * slideWidth)}px)`;
        indicators.forEach((btn,i)=> btn.setAttribute('aria-selected', String(i===index)));
        // pause any videos not visible, leave controls available for current
        slides.forEach((s,i)=>{
          const vid = s.querySelector('video');
          if(vid){
            if(i===index) vid.controls = true; else { vid.pause(); vid.currentTime = 0; }
          }
        });
      }

      // Reposition on resize to keep slides centered
      window.addEventListener('resize', ()=>{
        // small debounce
        clearTimeout(window.__carouselResize);
        window.__carouselResize = setTimeout(()=> update(), 80);
      });

      prev.addEventListener('click', ()=>{ index = (index-1+slides.length)%slides.length; update(); });
      next.addEventListener('click', ()=>{ index = (index+1)%slides.length; update(); });

      indicators.forEach((btn,i)=> btn.addEventListener('click', ()=>{ index = i; update(); }));

      // keyboard navigation
      carousel.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowLeft') prev.click();
        if(e.key === 'ArrowRight') next.click();
      });

      // make carousel focusable for keyboard users
      carousel.setAttribute('tabindex','0');

      // init
      update();
    })();
  </script>

</body>

</html>
